# ğŸŠ Wanted X Wecode PreOnBoarding Backend Course | ë¬´í•œë£¨í”„-2íŒ€
ì›í‹°ë“œ 1ì£¼ì°¨ ê¸°ì—… ê³¼ì œ : Aimmo Assignment Project
  âœ… Aimmo ê¸°ì—… ê³¼ì œì…ë‹ˆë‹¤.
- [ì—ì´ëª¨ ì‚¬ì´íŠ¸](https://en.aimmo.ai/)
- [ì—ì´ëª¨ ì±„ìš©ê³µê³  ë§í¬](https://www.wanted.co.kr/wd/16937)
<br>
<br>

# ğŸ”– ëª©ì°¨

- Team ì†Œê°œ
- ê³¼ì œ ë‚´ìš©
- ì„œë²„ ì£¼ì†Œ
- ê¸°ìˆ  í™˜ê²½ ë° Tools
- í”„ë¡œì íŠ¸ êµ¬ì¡°
- API ëª…ì„¸ì„œ ë° ê¸°ëŠ¥ ì„¤ëª…
- ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•
<br>  
<br>  

# ğŸ§‘â€ğŸ¤â€ğŸ§‘ Team ì†Œê°œ
- íŒ€ ë¬´í•œë£¨í”„
  - 1íŒ€ : ì†í¬ì •, ì†¡ì¹˜í—Œ, í•˜ì˜ˆì¤€
  - 2íŒ€ : (íŒ€ì¥)ì˜¤ì§€ìœ¤, ìœ ë™í—Œ

| ì´ë¦„ | ë‹´ë‹¹ ê¸°ëŠ¥ | ë¸”ë¡œê·¸ |
| :----------: | :-------------------------------: | :----: |
| ê³µí†µ | ì´ˆê¸°í™˜ê²½ ì„¤ì •, DB ëª¨ë¸ë§, UnitTest, ë°°í¬, swagger ë¬¸ì„œ ì‘ì„±, README.md ì‘ì„± | X |
| [ìœ ë™í—Œ](https://github.com/dhhyy)       | ê²Œì‹œê¸€ ì¹´í…Œê³ ë¦¬, ê²€ìƒ‰, ëŒ€ëŒ“ê¸€ ìƒì„±, ëŒ€ëŒ“ê¸€ ì¡°íšŒ(pagination), ì¡°íšŒìˆ˜ | [1ì°¨ ê³¼ì œ TIL](https://velog.io/@dhhyy/í”„ë¦¬ì˜¨ë³´ë”©-1ì£¼ì°¨-TIL-ê³¼ì œ-Aimmo-Assignment) |            
| [ì˜¤ì§€ìœ¤](https://github.com/Odreystella) | ê²Œì‹œê¸€ ì¹´í…Œê³ ë¦¬, ê²€ìƒ‰, ëŒ€ëŒ“ê¸€ ìƒì„±, ëŒ€ëŒ“ê¸€ ì¡°íšŒ(pagination), ì¡°íšŒìˆ˜ | [1ì°¨ ê³¼ì œ TIL](https://odreystella.github.io/2021/11/03/TIL_01_django_swagger/) |

- ê¸°ëŠ¥ ë³„ë¡œ ë‚˜ëˆ„ì§€ ì•Šê³  ëª¨ë“  APIë¥¼ í•¨ê»˜ Pair Programmingìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
<br>
<br>

# ğŸ“– ê³¼ì œ ë‚´ìš©

### **[í•„ìˆ˜ í¬í•¨ ì‚¬í•­]**

- README ì‘ì„±
  - í”„ë¡œì íŠ¸ ë¹Œë“œ, ìì„¸í•œ ì‹¤í–‰ ë°©ë²• ëª…ì‹œ
  - êµ¬í˜„ ë°©ë²•ê³¼ ì´ìœ ì— ëŒ€í•œ ê°„ëµí•œ ì„¤ëª…
  - ì™„ë£Œëœ ì‹œìŠ¤í…œì´ ë°°í¬ëœ ì„œë²„ì˜ ì£¼ì†Œ
  - `Swagger`ë‚˜ `Postman`ì„ í†µí•œ API í…ŒìŠ¤íŠ¸í• ë•Œ í•„ìš”í•œ ìƒì„¸ ë°©ë²•
  - í•´ë‹¹ ê³¼ì œë¥¼ ì§„í–‰í•˜ë©´ì„œ íšŒê³  ë‚´ìš© ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…
- `Swagger`ë‚˜ `Postman`ì„ ì´ìš©í•˜ì—¬ API í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„

### **[ê°œë°œ ìš”êµ¬ ì‚¬í•­]**

- ì—ì´ëª¨ ì„ í˜¸ ê¸°ìˆ ìŠ¤íƒ: `python flask`, `mashmallow`, `mongoengine`
- í•„ìˆ˜ ì‚¬ìš© ë°ì´í„°ë² ì´ìŠ¤: `mongodb`

### **[ê¸°ëŠ¥ ê°œë°œ]**

âœ”ï¸ **REST API ê¸°ëŠ¥**

- ì›í‹°ë“œ ì§€ì› ê³¼ì œ ë‚´ìš© í¬í•¨(ê²Œì‹œíŒ CRUD API)
- ê²Œì‹œê¸€ ì¹´í…Œê³ ë¦¬
- ê²Œì‹œê¸€ ê²€ìƒ‰
- ëŒ€ëŒ“ê¸€ (1 depth)
    - ëŒ€ëŒ“ê¸€ pagination
- ê²Œì‹œê¸€ ì½í˜ ìˆ˜
    - ê°™ì€ Userê°€ ê²Œì‹œê¸€ì„ ì½ëŠ” ê²½ìš° count ìˆ˜ ì¦ê°€í•˜ë©´ ì•ˆ ë¨
- Rest API ì„¤ê³„
- Unit Test
- 1000ë§Œê±´ ì´ìƒì˜ ë°ì´í„°ë¥¼ ë„£ê³  ì„±ëŠ¥í…ŒìŠ¤íŠ¸ ì§„í–‰ ê²°ê³¼ í•„ìš”
<br>
<br>

# â¡ï¸ Build(AWS EC2)

API URL: http://3.35.218.65:8000/

<br>

# âš’ï¸ ê¸°ìˆ  í™˜ê²½ ë° Tools

- Back-End: `Python 3.9.7`, `Django 3.2.9`
- Database: `mongodb` 
- Deploy: `AWS EC2`, `Docker`
- ETC: `Git`, `Github`, `Swagger`

<br>

# ğŸŒ² í”„ë¡œì íŠ¸ êµ¬ì¡°
```
â”œâ”€â”€ config
â”‚Â Â  â”œâ”€â”€ asgi.py
â”‚Â Â  â”œâ”€â”€ settings.py
â”‚Â Â  â”œâ”€â”€ urls.py
â”‚Â Â  â””â”€â”€ wsgi.py
â”œâ”€â”€ core
â”‚Â Â  â”œâ”€â”€ admin.py
â”‚Â Â  â”œâ”€â”€ apps.py
â”‚Â Â  â”œâ”€â”€ models.py
â”‚Â Â  â”œâ”€â”€ tests.py
â”‚Â Â  â”œâ”€â”€ utils.py
â”‚Â Â  â””â”€â”€ views.py
â”œâ”€â”€ postings
â”‚Â Â  â”œâ”€â”€ admin.py
â”‚Â Â  â”œâ”€â”€ apps.py
â”‚Â Â  â”œâ”€â”€ models.py
â”‚Â Â  â”œâ”€â”€ serializer.py
â”‚Â Â  â”œâ”€â”€ tests.py
â”‚Â Â  â”œâ”€â”€ urls.py
â”‚Â Â  â””â”€â”€ views.py
â”œâ”€â”€ users
â”‚Â Â  â”œâ”€â”€ admin.py
â”‚Â Â  â”œâ”€â”€ apps.py
â”‚Â Â  â”œâ”€â”€ models.py
â”‚Â Â  â”œâ”€â”€ serializer.py
â”‚Â Â  â”œâ”€â”€ tests.py
â”‚Â Â  â”œâ”€â”€ urls.py
â”‚Â Â  â””â”€â”€ views.py
â”œâ”€â”€ manage.py
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ my_settings.py
â”œâ”€â”€ README.md
â”œâ”€â”€ requirements.txt
```
<br>

# ğŸ”– API ëª…ì„¸ì„œ

[Swagger API Document ë³´ëŸ¬ê°€ê¸°](http://3.35.218.65:8000/swagger/)


### ğŸ‘‰ íšŒì›ê°€ì… / ë¡œê·¸ì¸

[ íšŒì›ê°€ì… API ]

1. ìœ ì € ì¸ì¦ ì²˜ë¦¬ë¥¼ ìœ„í•´ íšŒì›ê°€ì… API
2. ìœ ì €ì˜ ì´ë¦„ê³¼ ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ë¥¼ ìš”ì²­ ë³¸ë¬¸ì— ë‹´ìœ¼ë©´ ê°€ì…ëœë‹¤.

- Method: POST

```python
"http://3.35.218.65:8000/users/signup"
```

- parameter : request_body

```python
{
    "name": "ì´ê´‘ìˆ˜",
    "email": "runningman2@gmail.com",
    "password": "12341234aA!"
}
```

- response
```python
{
    "message": "SUCCESS",
    "username": "ì´ê´‘ìˆ˜"
}
```
<br>

[ ë¡œê·¸ì¸ API ]

1. ìœ ì €ì˜ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ í†µí•´ì„œ User Auth ê²€ì¦ í•œë‹¤.
2. ë¡œê·¸ì¸ ì„±ê³µ ì‹œ, ì¸ê°€ìš© access_tokenì„ ë°˜í™˜í•œë‹¤.

- Method: POST

```python
"http://3.35.218.65:8000/users/signin"
```

- parameter : request_body

```python
{
    "email": "runningman2@gmail.com",
    "password": "12341234aA!"
}
```

- response
```python
{
    "message": "SUCCESS",
    "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6Mn0.OLjKxY1ipx6vU8RSSkPtwE_d-0S9_qMVPg9syryaDQA",
    "username": "ì´ê´‘ìˆ˜"
}
```

### ğŸ‘‰ ê²Œì‹œíŒ CRUD API

#### [ ê²Œì‹œê¸€ ì‘ì„± API] 

1. í—¤ë”ë¡œ userì˜ access_tokenì„ ì „ë‹¬í•œë‹¤.
2. ìš”ì²­ ë³¸ë¬¸ì— ê¸€ ì œëª©, ë‚´ìš©, ì¹´í…Œê³ ë¦¬ë¥¼ ì‘ì„±í•˜ì—¬ ìš”ì²­í•œë‹¤.

- Method: POST

```python
"http://3.35.218.65:8000/postings"
```
- header : Bearer token
- parameter : request_body

```python
{
    "title": "test_title",
    "text": "test_content",
    "category": 1
}
```

- response
```python
{
    "message": "test_title has successfully posted"
}
```
<br>

#### [ ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ API]

1. í—¤ë”ë¡œ userì˜ access_tokenì„ ì „ë‹¬í•œë‹¤.
2. path_parameterì— í•´ë‹¹í•˜ëŠ” ê²Œì‹œê¸€ì´ ì¡°íšŒëœë‹¤.
3. access_tokenìœ¼ë¡œ ê°™ì€ ìœ ì €ê°€ ê²Œì‹œê¸€ì˜ ì½ëŠ” ê²½ìš° ì¡°íšŒìˆ˜ê°€ ì¦ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.

- Method: GET

```python
"http://3.35.218.65:8000/postings/13"
```
- header : Bearer token
- parameter : path_parameter

- response
```python
{
  "result": {
    "id": 13,
    "author": "ì´ê´‘ìˆ˜",
    "title": "test_title",
    "text": "test_content",
    "category": "ê³µì§€ì‚¬í•­",
    "created_at": "2021-12-23 07:30",
    "updated_at": "2021-12-23 07:38",
    "count": 4
  }
}
```
<br>

#### [ ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ API]

1. ê¸°ë³¸ì ìœ¼ë¡œ 10ê°œì˜ ê²Œì‹œê¸€ì„ ì¡°íšŒí•œë‹¤. 

- Method: GET

```python
"http://3.35.218.65:8000/postings/list"
```

- response
```python
{
  "result": {
    "count": 10,
    "postings": [
      {
        "id": 13,
        "author": "ì´ê´‘ìˆ˜",
        "title": "test_title",
        "text": "test_content",
        "category": "ê³µì§€ì‚¬í•­",
        "created_at": "2021-12-23T07:30:52.607Z",
        "updated_at": "2021-12-23T07:38:16.072Z"
      },
      {
        "id": 12,
        "author": "ì—ì´ëª¨1",
        "title": "docker success",
        "text": "good",
        "category": "ê³µì§€ì‚¬í•­",
        "created_at": "2021-12-22T06:37:32.229Z",
        "updated_at": "2021-12-22T06:47:57.548Z"
      },
      ...
      {
        "id": 3,
        "author": "ì§€ì„ì§„",
        "title": "testing post_2",
        "text": "testing post text",
        "category": "ë°°ì†¡ë¬¸ì˜",
        "created_at": "2021-11-02T09:02:04.461Z",
        "updated_at": "2021-11-02T09:02:04.461Z"
      }
    ]
  }
}
```
<br>

#### [ ê²Œì‹œê¸€ ìˆ˜ì • API]

1. í—¤ë”ë¡œ userì˜ access_tokenì„ ì „ë‹¬í•œë‹¤.
2. ìš”ì²­ ë³¸ë¬¸ì— ì œëª©, ìˆ˜ì •í•  ë‚´ìš©, ì¹´í…Œê³ ë¦¬ë¥¼ ì „ë‹¬í•œë‹¤.
3. path_parameterì— í•´ë‹¹í•˜ëŠ” ê²Œì‹œê¸€ì˜ ë‚´ìš©ì´ ìˆ˜ì •ëœë‹¤.

- Method: PUT

```python
"http://3.35.218.65:8000/postings/13"
```
- header : Bearer token
- parameter : request_body, path_parameter

```python
{
    "title": "test_title",
    "text": "test_content_change",
    "category": 1
}
```

- response
```python
{
  "result": {
    "id": 13,
    "author": "ì´ê´‘ìˆ˜",
    "title": "test_title",
    "text": "test_content_change",
    "category": "ê³µì§€ì‚¬í•­",
    "created_at": "2021-12-23 07:30",
    "updated_at": "2021-12-23 07:47",
    "count": 5
  }
}
```
<br>

#### [ ê²Œì‹œê¸€ ì‚­ì œ API]

1. í—¤ë”ë¡œ userì˜ access_tokenì„ ì „ë‹¬í•œë‹¤.
2. path_parameterì— í•´ë‹¹í•˜ëŠ” ê²Œì‹œê¸€ì´ ì‚­ì œëœë‹¤.

- Method: DELETE

```python
"http://3.35.218.65:8000/postings/13"
```
- header : Bearer token
- parameter : path_parameter

- response
```python
{
    "message": "test_title has successfully deleted"
}
```
<br>

### ğŸ‘‰ ëŒ€ëŒ“ê¸€ ìƒì„± API

1. í—¤ë”ë¡œ userì˜ access_tokenì„ ì „ë‹¬í•œë‹¤.
2. path_parameterë¡œ ê²Œì‹œê¸€ idë¥¼ ì „ë‹¬í•œë‹¤.
3. query_parameterì¸ comment_idê°€ ì—†ìœ¼ë©´ ëŒ“ê¸€ì´ ìƒì„±ë˜ê³ , ëŒ“ê¸€ì˜ idë¥¼ ì „ë‹¬í•˜ë©´ í•´ë‹¹ ëŒ“ê¸€ì— ëŒ€ëŒ“ê¸€ì´ ìƒì„±ëœë‹¤.

- Method: POST

```python
"http://3.35.218.65:8000/postings/12/comment?comment_id=41"
```
- header : Bearer token
- parameter : request_body, path_parameter, query_parameter

```python
{
  "content": "12ë²ˆì— ê²Œì‹œê¸€ 41ë²ˆ ëŒ“ê¸€ì— ëŒ€í•œ ëŒ€ëŒ“ê¸€ì…ë‹ˆë‹¤_1"
}
```

- response
```python
{
    "message": "CREATE_RECOMMENT"
}
```
<br>

### ğŸ‘‰ ëŒ€ëŒ“ê¸€ ì¡°íšŒ API

1. path_parameterë¡œ ì¡°íšŒí•  ê²Œì‹œê¸€ idë¥¼ ì „ë‹¬í•œë‹¤.
2. query_parameterì¸ parent_comment_idê°€ ì—†ìœ¼ë©´ í•´ë‹¹ ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ì´ ì¡°íšŒë˜ê³ , ëŒ“ê¸€ idë¥¼ ì „ë‹¬í•˜ë©´ í•´ë‹¹ ëŒ“ê¸€ì˜ ëŒ€ë‹·ê¸€ì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
3. query_parameterë¡œ limit, offsetë¥¼ ì „ë‹¬í•˜ë©´ í˜ì´ì§• ì²˜ë¦¬ í›„ ì¡°íšŒëœë‹¤.

- Method: GET

```python
"http://3.35.218.65:8000/postings/12/commentlist?parent_comment_id=41&limit=10&offset=0"
```
- parameter : path_parameter, query_parameter

- response
```python
{
  "message": [
    {
      "content": "ë„ì»¤ ì§±",
      "user": "runningman2@gmail.com",
      "posting_title": "docker success",
      "parent_comment_id": 41
    },
    {
      "content": "ë„ì»¤ ì§±",
      "user": "aimmo@naver.com",
      "posting_title": "docker success",
      "parent_comment_id": 41
    },
    {
      "content": "ëŒ“ê¸€ ëŒ“ê¸€",
      "user": "aimmo@naver.com",
      "posting_title": "docker success",
      "parent_comment_id": 41
    }
  ]
}
```
<br>

### ğŸ‘‰ ê²Œì‹œê¸€ ê²€ìƒ‰ API

1. query_parameterë¡œ ê²€ìƒ‰í•  í‚¤ì›Œë“œë¥¼ ì „ë‹¬í•œë‹¤(í‚¤ì›Œë“œ: post).
2. ê²Œì‹œê¸€ ì‘ì„±ì, ì œëª©, ë‚´ìš©ìœ¼ë¡œ ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ë‹¤.

- Method: GET

```python
"http://3.35.218.65:8000/postings/search?keyword=post"
```
- parameter : query_parameter

- response
```python
{
  "result": {
    "count": 4,
    "postings": [
      {
        "id": 3,
        "author": "ì§€ì„ì§„",
        "title": "testing post_2",
        "text": "testing post text",
        "category": "ë°°ì†¡ë¬¸ì˜",
        "created_at": "2021-11-02 09:02",
        "updated_at": "2021-11-02 09:02"
      },
      {
        "id": 4,
        "author": "ì§€ì„ì§„",
        "title": "testing post_4",
        "text": "testing post text",
        "category": "ë°°ì†¡ë¬¸ì˜",
        "created_at": "2021-11-02 09:06",
        "updated_at": "2021-11-02 09:06"
      },
      {
        "id": 5,
        "author": "ì§€ì„ì§„",
        "title": "testing post_5",
        "text": "testing post text",
        "category": "ë°°ì†¡ë¬¸ì˜",
        "created_at": "2021-11-02 09:06",
        "updated_at": "2021-11-02 09:06"
      },
      {
        "id": 6,
        "author": "ì§€ì„ì§„",
        "title": "testing post_6",
        "text": "testing post text",
        "category": "ë°°ì†¡ë¬¸ì˜",
        "created_at": "2021-11-02 09:06",
        "updated_at": "2021-11-02 09:06"
      }
    ]
  }
}
```

<br>

# ğŸ”– ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

### ë¡œì»¬ ë° í…ŒìŠ¤íŠ¸ìš©

1. í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ cloneí•˜ê³ , í”„ë¡œì íŠ¸ë¡œ ë“¤ì–´ê°„ë‹¤.

```bash
$ https://github.com/wanted-InfinityLoop/aimmo-InfinityLoop-2.git .
```

2. ê°€ìƒí™˜ê²½ìœ¼ë¡œ minicondaë¥¼ ì„¤ì¹˜í•œë‹¤. [Go](https://docs.conda.io/en/latest/miniconda.html)

```bash
$ conda create -n aimmo python=3.9
$ conda actvate aimmo
```

3. ê°€ìƒí™˜ê²½ ìƒì„± í›„, requirements.txtë¥¼ ì„¤ì¹˜í•œë‹¤.

```bash
$ pip install -r requirements.txt

Django==3.2.9
django-cors-headers==3.10.0
bcrypt==3.2.0
PyJWT==2.3.0
djangorestframework==3.12.4
drf-yasg==1.20.0
djongo==1.3.6
whitenoise==5.3.0
gunicorn==20.1.0
django-extensions==3.1.5
```

4. migrate í›„ ë¡œì»¬ ì„œë²„ ê°€ë™

```bash
$ python manage.py migrate
$ python manage.py runserver
```

### ë°°í¬ìš©

1. ë°°í¬ ì„œë²„ì—ì„œ ì´ë¯¸ì§€ë¥¼ pull ë°›ëŠ”ë‹¤.
```bash
$ sudo docker pull ojo1001/aimmo:0.1.0 
```

2. ì´ë¯¸ì§€ê°€ ì˜ ë°›ì•„ì¡ŒëŠ”ì§€ í™•ì¸í•œë‹¤.
```bash
$ sudo docker images 
```

3. ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ê¸°
```bash
$ sudo docker run --name aimmo -d -p 8000:8000 ojo1001/aimmo:0.1.0 
```

4. ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆ í™•ì¸í•˜ê¸°
```bash
$ sudo docker ps 
```

5. Swagger API ë¬¸ì„œ ë“¤ì–´ê°€ì„œ API í…ŒìŠ¤íŠ¸í•˜ê¸°
```bash
http://3.35.218.65:8000/swagger/
```
